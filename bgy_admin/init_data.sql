-- 初始化系统数据
SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- 初始化部门数据
INSERT INTO `sys_department` (id ,name,`order`,is_active,created_at,updated_at,remark,leader_id,parent_id)
(1, '总公司', NULL, NULL, 0, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '总公司'),
(2, '研发部', 1, 1, 1, 2, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '负责产品研发'),
(3, '运维部', 1, 1, 1, 3, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '负责系统运维'),
(4, '测试部', 1, 1, 1, 4, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '负责系统测试'),
(5, '市场部', 1, 1, 1, 5, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '负责市场营销'),
(6, '财务部', 1, 1, 1, 6, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '负责财务管理');

-- 初始化角色数据
INSERT INTO `sys_role` VALUES
(1, '超级管理员', 'admin', '系统超级管理员', 1, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '系统内置角色'),
(2, '普通用户', 'user', '普通用户', 2, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '普通用户角色'),
(3, '部门管理员', 'dept_admin', '部门管理员', 3, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '部门管理员角色'),
(4, '访客', 'visitor', '访客', 4, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '访客角色');

-- 初始化用户数据
INSERT INTO `sys_user` VALUES
(1, 'pbkdf2_sha256$600000$cGFzc3dvcmQ=$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN9V3UF9T3HJGQZsuHhJi', '2024-01-01 00:00:00', 1, 'admin', 'admin@example.com', '超级管理员', '13800138000', 1, NULL, 1, 1, '127.0.0.1', '2024-01-01 00:00:00', '2024-01-01 00:00:00'),
(2, 'pbkdf2_sha256$600000$cGFzc3dvcmQ=$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN9V3UF9T3HJGQZsuHhJi', '2024-01-01 00:00:00', 1, 'test', 'test@example.com', '测试用户', '13800138001', 1, NULL, 2, 1, '127.0.0.1', '2024-01-01 00:00:00', '2024-01-01 00:00:00'),
(3, 'pbkdf2_sha256$600000$cGFzc3dvcmQ=$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN9V3UF9T3HJGQZsuHhJi', '2024-01-01 00:00:00', 1, 'dev', 'dev@example.com', '开发人员', '13800138002', 1, NULL, 2, 1, '127.0.0.1', '2024-01-01 00:00:00', '2024-01-01 00:00:00');

-- 初始化菜单数据
INSERT INTO `sys_menu` VALUES
(1, '系统管理', NULL, 'CATALOG', 'system', '/system', NULL, NULL, 1, 1, 0, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '系统管理目录'),
(2, '用户管理', 1, 'MENU', 'user', '/system/user', 'system/user/index', 'system:user:list', 1, 1, 0, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '用户管理菜单'),
(3, '角色管理', 1, 'MENU', 'role', '/system/role', 'system/role/index', 'system:role:list', 2, 1, 0, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '角色管理菜单'),
(4, '菜单管理', 1, 'MENU', 'menu', '/system/menu', 'system/menu/index', 'system:menu:list', 3, 1, 0, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '菜单管理菜单'),
(5, '部门管理', 1, 'MENU', 'dept', '/system/dept', 'system/dept/index', 'system:dept:list', 4, 1, 0, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '部门管理菜单');

-- 初始化权限数据
INSERT INTO `sys_permission` VALUES
(1, '用户查询', 'api', 'GET', 'system:user:list', '查询用户列表', NULL, 1, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '用户查询权限'),
(2, '用户创建', 'api', 'POST', 'system:user:create', '创建新用户', NULL, 2, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '用户创建权限'),
(3, '用户编辑', 'api', 'PUT', 'system:user:update', '修改用户信息', NULL, 3, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '用户编辑权限'),
(4, '用户删除', 'api', 'DELETE', 'system:user:delete', '删除用户', NULL, 4, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', '用户删除权限');

-- 初始化用户-角色关系
INSERT INTO `sys_user_roles` VALUES
(1, 1, 1),  -- admin - 超级管理员
(2, 2, 2),  -- test - 普通用户
(3, 3, 2);  -- dev - 普通用户

-- 初始化角色-权限关系
INSERT INTO `sys_role_permissions` VALUES
(1, 1, 1),  -- 超级管理员 - 用户查询
(2, 1, 2),  -- 超级管理员 - 用户创建
(3, 1, 3),  -- 超级管理员 - 用户编辑
(4, 1, 4),  -- 超级管理员 - 用户删除
(5, 2, 1),  -- 普通用户 - 用户查询
(6, 3, 1),  -- 部门管理员 - 用户查询
(7, 3, 2),  -- 部门管理员 - 用户创建
(8, 3, 3),  -- 部门管理员 - 用户编辑
(9, 1, 5),   -- 超级管理员 - 用户导入
(10, 1, 6),  -- 超级管理员 - 用户导出
(11, 1, 7),  -- 超级管理员 - 重置密码
(12, 1, 8),  -- 超级管理员 - 角色查询
(13, 1, 9),  -- 超级管理员 - 角色创建
(14, 1, 10), -- 超级管理员 - 角色编辑
(15, 1, 11), -- 超级管理员 - 角色删除
(16, 1, 12), -- 超级管理员 - 角色授权
(17, 3, 5),  -- 部门管理员 - 用户导入
(18, 3, 6),  -- 部门管理员 - 用户导出
(19, 3, 7),  -- 部门管理员 - 重置密码
(20, 3, 17), -- 部门管理员 - 部门查询
(21, 3, 18), -- 部门管理员 - 部门创建
(22, 3, 19), -- 部门管理员 - 部门编辑
(23, 3, 20), -- 部门管理员 - 部门删除
(24, 1, 21), -- 超级管理员 - 在线用户查询
(25, 1, 22), -- 超级管理员 - 强制退出
(26, 1, 23), -- 超级管理员 - 操作日志查询
(27, 1, 24); -- 超级管理员 - 登录日志查询

-- 初始化角色-菜单关系
INSERT INTO `sys_role_menus` VALUES
(1, 1, 1),  -- 超级管理员 - 系统管理
(2, 1, 2),  -- 超级管理员 - 用户管理
(3, 1, 3),  -- 超级管理员 - 角色管理
(4, 1, 4),  -- 超级管理员 - 菜单管理
(5, 1, 5),  -- 超级管理员 - 部门管理
(6, 2, 2),  -- 普通用户 - 用户管理
(7, 3, 2),  -- 部门管理员 - 用户管理
(8, 3, 5);  -- 部门管理员 - 部门管理


SET FOREIGN_KEY_CHECKS = 1; 